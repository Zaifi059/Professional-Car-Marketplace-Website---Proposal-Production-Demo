<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Data & Privacy Settings - Carvago</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='css/style.css') }}">
    <link rel="stylesheet" href="{{ url_for('static', filename='css/account.css') }}">
    <style>
        .settings-section {
            background: var(--white);
            border-radius: 8px;
            padding: 30px;
            margin-bottom: 25px;
            box-shadow: var(--shadow);
        }

        .settings-section h2 {
            font-size: 22px;
            color: var(--dark-color);
            margin-bottom: 20px;
            padding-bottom: 15px;
            border-bottom: 2px solid var(--border-color);
        }

        .settings-section p {
            color: var(--secondary-color);
            font-size: 14px;
            margin-bottom: 20px;
        }

        .setting-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 20px 0;
            border-bottom: 1px solid var(--border-color);
        }

        .setting-item:last-child {
            border-bottom: none;
        }

        .setting-info {
            flex: 1;
        }

        .setting-info h3 {
            font-size: 16px;
            color: var(--dark-color);
            margin-bottom: 5px;
        }

        .setting-info p {
            font-size: 13px;
            color: var(--secondary-color);
            margin: 0;
        }

        .setting-control {
            display: flex;
            align-items: center;
            gap: 15px;
        }

        .toggle-switch {
            position: relative;
            width: 50px;
            height: 26px;
        }

        .toggle-switch input {
            opacity: 0;
            width: 0;
            height: 0;
        }

        .toggle-slider {
            position: absolute;
            cursor: pointer;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background-color: #ccc;
            transition: 0.3s;
            border-radius: 26px;
        }

        .toggle-slider:before {
            position: absolute;
            content: "";
            height: 20px;
            width: 20px;
            left: 3px;
            bottom: 3px;
            background-color: white;
            transition: 0.3s;
            border-radius: 50%;
        }

        .toggle-switch input:checked + .toggle-slider {
            background-color: var(--primary-color);
        }

        .toggle-switch input:checked + .toggle-slider:before {
            transform: translateX(24px);
        }

        .btn-download {
            background-color: var(--info-color);
            color: var(--white);
            padding: 10px 20px;
            border: none;
            border-radius: 4px;
            font-size: 14px;
            font-weight: 500;
            cursor: pointer;
            transition: all 0.3s;
        }

        .btn-download:hover {
            background-color: #138496;
        }

        .btn-delete-data {
            background-color: var(--danger-color);
            color: var(--white);
            padding: 10px 20px;
            border: none;
            border-radius: 4px;
            font-size: 14px;
            font-weight: 500;
            cursor: pointer;
            transition: all 0.3s;
        }

        .btn-delete-data:hover {
            background-color: #c82333;
        }

        .data-info {
            background-color: var(--light-color);
            padding: 15px;
            border-radius: 6px;
            margin-top: 15px;
        }

        .data-info p {
            margin: 5px 0;
            font-size: 13px;
            color: var(--text-color);
        }

        .warning-box {
            background-color: #fff3cd;
            border: 1px solid #ffc107;
            border-radius: 6px;
            padding: 15px;
            margin-top: 15px;
        }

        .warning-box p {
            color: #856404;
            margin: 0;
            font-size: 13px;
        }
    </style>
</head>
<body>
    <!-- Header -->
    <header class="header">
        <div class="container">
            <div class="header-top">
                <div class="logo">
                    <a href="/">carvago.</a>
                </div>
                <nav class="main-nav">
                    <ul>
                        <li><a href="/buy">Buy</a></li>
                        <li><a href="/how-it-works">How it works</a></li>
                        <li><a href="/reviews">Reviews</a></li>
                        <li class="dropdown">
                            <a href="#">Services <span class="arrow">▼</span></a>
                            <ul class="dropdown-menu">
                                <li><a href="/caraudit">CarAudit™</a></li>
                                <li><a href="/delivery">Delivery</a></li>
                                <li><a href="/financing">Financing</a></li>
                                <li><a href="/warranty">Warranty</a></li>
                            </ul>
                        </li>
                        <li><a href="/electric-hybrid">Electric & Hybrid</a></li>
                        <li><a href="/about">About us</a></li>
                    </ul>
                </nav>
                <div class="header-actions">
                    <button class="icon-btn favorites-btn" title="Favorites">
                        <svg class="heart-icon" width="22" height="22" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <path d="M12 21.35l-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5c0 3.78-3.4 6.86-8.55 11.54L12 21.35z" stroke="#4B5563" stroke-width="1.5" fill="none" stroke-linejoin="round"/>
                        </svg>
                    </button>
                    <button class="icon-btn cart-btn" title="Cart">
                        <svg class="cart-icon" width="22" height="22" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <path d="M7 18c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zM1 2v2h2l3.6 7.59-1.35 2.45c-.15.28-.25.61-.25.96 0 1.1.9 2 2 2h12v-2H7.42c-.14 0-.25-.11-.25-.25l.03-.12L8.1 13h7.45c.75 0 1.41-.41 1.75-1.03L21.7 4H5.21l-.94-2H1zm16 16c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z" stroke="#4B5563" stroke-width="1.5" fill="none" stroke-linejoin="round"/>
                        </svg>
                    </button>
                    <div class="language-selector">
                        <button class="lang-btn" id="langBtn">
                            <svg class="flag-icon" width="20" height="20" viewBox="0 0 640 480" xmlns="http://www.w3.org/2000/svg">
                                <defs>
                                    <clipPath id="a">
                                        <path fill-opacity=".7" d="M-85.3 0h682.6v512h-682.6z"/>
                                    </clipPath>
                                </defs>
                                <g clip-path="url(#a)" transform="translate(80) scale(.94)">
                                    <g stroke-width="1pt">
                                        <path fill="#006" d="M-256 0H768v512H-256z"/>
                                        <path fill="#fff" d="m-256 0 512 512M768 0L-256 512" stroke="#fff" stroke-width="85.3"/>
                                        <path fill="#fff" d="M-256 204.8H768M-256 307.2H768" stroke="#fff" stroke-width="85.3"/>
                                        <path fill="#c00" d="m-256 0 512 512M768 0L-256 512" stroke="#c00" stroke-width="56.9"/>
                                        <path fill="#c00" d="M-256 204.8H768M-256 307.2H768" stroke="#c00" stroke-width="56.9"/>
                                    </g>
                                </g>
                            </svg>
                        </button>
                        <div class="lang-menu" id="langMenu">
                            <a href="#" class="lang-option" data-lang="cs">
                                <svg class="lang-flag" width="20" height="20" viewBox="0 0 640 480" xmlns="http://www.w3.org/2000/svg">
                                    <path fill="#11457e" d="M0 0l213.33 240L0 480z"/>
                                    <path fill="#fff" d="M213.33 0h426.67v240H213.33z"/>
                                    <path fill="#d7141a" d="M213.33 240h426.67v240H213.33z"/>
                                </svg>
                                <span>Čeština</span>
                            </a>
                            <a href="#" class="lang-option active" data-lang="en">
                                <svg class="lang-flag" width="20" height="20" viewBox="0 0 640 480" xmlns="http://www.w3.org/2000/svg">
                                    <defs>
                                        <clipPath id="gb">
                                            <path fill-opacity=".7" d="M-85.3 0h682.6v512h-682.6z"/>
                                        </clipPath>
                                    </defs>
                                    <g clip-path="url(#gb)" transform="translate(80) scale(.94)">
                                        <g stroke-width="1pt">
                                            <path fill="#006" d="M-256 0H768v512H-256z"/>
                                            <path fill="#fff" d="m-256 0 512 512M768 0L-256 512" stroke="#fff" stroke-width="85.3"/>
                                            <path fill="#fff" d="M-256 204.8H768M-256 307.2H768" stroke="#fff" stroke-width="85.3"/>
                                            <path fill="#c00" d="m-256 0 512 512M768 0L-256 512" stroke="#c00" stroke-width="56.9"/>
                                            <path fill="#c00" d="M-256 204.8H768M-256 307.2H768" stroke="#c00" stroke-width="56.9"/>
                                        </g>
                                    </g>
                                </svg>
                                <span>English</span>
                            </a>
                        </div>
                    </div>
                    <div class="login-dropdown">
                        <button class="btn-login" id="loginBtn">
                            Login <span class="arrow">▼</span>
                        </button>
                        <div class="login-menu" id="loginMenu">
                            <a href="/saved-searches">Saved searches</a>
                            <a href="/last-searches">Last searches</a>
                            <a href="/favorites">Favorite cars</a>
                            <a href="/orders">My Orders</a>
                            <a href="/data-settings">Data & Privacy</a>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </header>

    <!-- Main Content -->
    <main class="account-page">
        <div class="container">
            <div class="account-header">
                <h1>Data & Privacy Settings</h1>
                <p>Manage your data preferences and privacy settings</p>
            </div>

            <!-- Privacy Settings -->
            <div class="settings-section">
                <h2>Privacy Settings</h2>
                <p>Control how your data is used and shared</p>

                <div class="setting-item">
                    <div class="setting-info">
                        <h3>Email Notifications</h3>
                        <p>Receive email updates about new car matches and promotions</p>
                    </div>
                    <div class="setting-control">
                        <label class="toggle-switch">
                            <input type="checkbox" checked>
                            <span class="toggle-slider"></span>
                        </label>
                    </div>
                </div>

                <div class="setting-item">
                    <div class="setting-info">
                        <h3>SMS Notifications</h3>
                        <p>Receive SMS alerts for important updates and order status</p>
                    </div>
                    <div class="setting-control">
                        <label class="toggle-switch">
                            <input type="checkbox">
                            <span class="toggle-slider"></span>
                        </label>
                    </div>
                </div>

                <div class="setting-item">
                    <div class="setting-info">
                        <h3>Marketing Communications</h3>
                        <p>Receive promotional emails and special offers</p>
                    </div>
                    <div class="setting-control">
                        <label class="toggle-switch">
                            <input type="checkbox" checked>
                            <span class="toggle-slider"></span>
                        </label>
                    </div>
                </div>

                <div class="setting-item">
                    <div class="setting-info">
                        <h3>Data Sharing with Partners</h3>
                        <p>Allow sharing of anonymized data with trusted partners for better service</p>
                    </div>
                    <div class="setting-control">
                        <label class="toggle-switch">
                            <input type="checkbox">
                            <span class="toggle-slider"></span>
                        </label>
                    </div>
                </div>
            </div>

            <!-- Search History -->
            <div class="settings-section">
                <h2>Search History</h2>
                <p>Manage your search history and saved searches</p>

                <div class="setting-item">
                    <div class="setting-info">
                        <h3>Save Search History</h3>
                        <p>Automatically save your car searches for quick access</p>
                    </div>
                    <div class="setting-control">
                        <label class="toggle-switch">
                            <input type="checkbox" checked>
                            <span class="toggle-slider"></span>
                        </label>
                    </div>
                </div>

                <div class="setting-item">
                    <div class="setting-info">
                        <h3>Clear Search History</h3>
                        <p>Remove all saved search history from your account</p>
                    </div>
                    <div class="setting-control">
                        <button class="btn-clear" onclick="clearSearchHistory()">Clear History</button>
                    </div>
                </div>
            </div>

            <!-- Data Management -->
            <div class="settings-section">
                <h2>Data Management</h2>
                <p>Download or delete your personal data</p>

                <div class="setting-item">
                    <div class="setting-info">
                        <h3>Download Your Data</h3>
                        <p>Request a copy of all your personal data in a portable format</p>
                        <div class="data-info">
                            <p><strong>Includes:</strong> Profile information, orders, saved searches, favorites, and preferences</p>
                            <p><strong>Format:</strong> JSON file</p>
                            <p><strong>Processing time:</strong> Usually within 24 hours</p>
                        </div>
                    </div>
                    <div class="setting-control">
                        <button class="btn-download" onclick="downloadData()">Download Data</button>
                    </div>
                </div>

                <div class="setting-item">
                    <div class="setting-info">
                        <h3>Delete Account</h3>
                        <p>Permanently delete your account and all associated data</p>
                        <div class="warning-box">
                            <p><strong>Warning:</strong> This action cannot be undone. All your data, orders, and preferences will be permanently deleted.</p>
                        </div>
                    </div>
                    <div class="setting-control">
                        <button class="btn-delete-data" onclick="deleteAccount()">Delete Account</button>
                    </div>
                </div>
            </div>

            <!-- Cookie Preferences -->
            <div class="settings-section">
                <h2>Cookie Preferences</h2>
                <p>Manage your cookie preferences for this website</p>

                <div class="setting-item">
                    <div class="setting-info">
                        <h3>Essential Cookies</h3>
                        <p>Required for the website to function properly. Cannot be disabled.</p>
                    </div>
                    <div class="setting-control">
                        <span style="color: var(--secondary-color);">Always Active</span>
                    </div>
                </div>

                <div class="setting-item">
                    <div class="setting-info">
                        <h3>Analytics Cookies</h3>
                        <p>Help us understand how visitors interact with our website</p>
                    </div>
                    <div class="setting-control">
                        <label class="toggle-switch">
                            <input type="checkbox" checked>
                            <span class="toggle-slider"></span>
                        </label>
                    </div>
                </div>

                <div class="setting-item">
                    <div class="setting-info">
                        <h3>Marketing Cookies</h3>
                        <p>Used to deliver personalized advertisements and track campaign performance</p>
                    </div>
                    <div class="setting-control">
                        <label class="toggle-switch">
                            <input type="checkbox">
                            <span class="toggle-slider"></span>
                        </label>
                    </div>
                </div>
            </div>

            <!-- Save Button -->
            <div style="text-align: center; margin-top: 30px;">
                <button class="btn-primary" onclick="saveSettings()">Save Settings</button>
            </div>
        </div>
    </main>

    <!-- Footer -->
    <footer class="footer">
        <div class="container">
            <div class="footer-content">
                <div class="footer-section">
                    <h4>Carvago</h4>
                    <ul>
                        <li><a href="/buy">Buy</a></li>
                        <li><a href="/how-it-works">How it works</a></li>
                        <li><a href="/reviews">Reviews</a></li>
                        <li><a href="/electric-hybrid">Electric & Hybrid</a></li>
                    </ul>
                </div>
                <div class="footer-section">
                    <h4>Services</h4>
                    <ul>
                        <li><a href="/caraudit">CarAudit™</a></li>
                        <li><a href="/delivery">Delivery</a></li>
                        <li><a href="/financing">Financing</a></li>
                        <li><a href="/warranty">Warranty</a></li>
                    </ul>
                </div>
                <div class="footer-section">
                    <h4>Company</h4>
                    <ul>
                        <li><a href="/about">About us</a></li>
                        <li><a href="/contact">Contact</a></li>
                    </ul>
                </div>
            </div>
            <div class="footer-bottom">
                <p>&copy; 2024 Carvago. All rights reserved.</p>
                <p class="digizone-branding">Developed by <strong>Digizone Solutions</strong> | <a href="/demo" style="color: #3B82F6; text-decoration: underline;">View Demo Showcase</a></p>
            </div>
        </div>
    </footer>

    <script src="{{ url_for('static', filename='js/main.js') }}"></script>
    <script src="{{ url_for('static', filename='js/account.js') }}"></script>
    <script>
        function clearSearchHistory() {
            if (confirm('Are you sure you want to clear all search history? This action cannot be undone.')) {
                alert('Search history cleared successfully!');
            }
        }

        function downloadData() {
            alert('Your data download request has been submitted. You will receive an email with the download link within 24 hours.');
        }

        function deleteAccount() {
            if (confirm('Are you absolutely sure you want to delete your account? This action is permanent and cannot be undone. All your data, orders, and preferences will be permanently deleted.')) {
                if (confirm('This is your final warning. Are you certain you want to proceed with account deletion?')) {
                    alert('Account deletion request submitted. You will receive a confirmation email shortly.');
                }
            }
        }

        function saveSettings() {
            alert('Settings saved successfully!');
        }
    </script>
</body>
</html>

